<html>
	<head>
		<title>Vocabulary trainer</title>
		<link rel="stylesheet" href="css/basic.css" stype='text/css'>
		<script src="js/lib/jquery-1.9.1.min.js"></script>
		<script src="js/lib/easing.js"></script>
		<script src="js/lib/underscore.js"></script>
		<script src="js/app.js"></script>
		<script src="js/trainer.js"></script>
		<script src="js/chart.js"></script>
		<style>

			.content{width:400px; height:100px; margin:0 auto; margin-top:100px; font-size:40px; color:white; font-family: Georgia; text-align:center;}
			.answer{width:400px; height:100px; margin:0 auto; text-align: center}
			input{padding:5px; border-radius:10px; border:4px solid #dedede; font-size:30px; color:gray;}
		</style>	
	</head>



	<body>
		<script>
			function nextWord(){

				var word = trainer.nextWord();
				if(word.status){
					console.log(word);
					$('.content').html(word.data.original);
				}else alert('finitto.');
			}

			function submitWord(translation){
				trainer.submitAnswer(translation)
			}

			var vocabularyData = {};
			vocabularyData.name = 'test list';
			vocabularyData.words = [];
			vocabularyData.words.push({original:'original1', translation:'translation1'});
			vocabularyData.words.push({original:'original2', translation:'translation2'});
			vocabularyData.words.push({original:'original3', translation:'translation3'});
			vocabularyData.words.push({original:'original4', translation:'translation4'});
			vocabularyData.words.push({original:'original5', translation:'translation5'});
			vocabularyData.words.push({original:'original6', translation:'translation6'});
			vocabularyData.words.push({original:'original7', translation:'translation7'});

			var trainer = new VocabularyTrainer({level:3, trainingCycles:3}, vocabularyData);
			trainer.generatePossibleLetters();

			var chart = new canvasChart({'canvasId':'chart', 'height':400, 'width':600, 'posX':0, 'posY':0, 'max':100});
			
			
			
			$(document).ready(function(){
				nextWord();
				chart.addData({x:0, y:0});
				chart.addData({x:2, y:0.1});
				chart.addData({x:4, y:0.2}); 
				chart.addData({x:6, y:0.4}); 
				chart.addData({x:8, y:0.5});  
				chart.addData({x:12, y:0.65}); 
				chart.addData({x:14, y:0.67}); 
				chart.addData({x:16, y:0.8}); 
				chart.addData({x:18, y:0.9}); 
				chart.addData({x:20, y:0.95}); 
				chart.addData({x:22, y:0.8});

				chart.render();
				$("#translation").keyup(function(e){ 
				    var code = e.which;
				    if(code==13){
				    	var translation = $(this).val();			    	

				    	submitWord(translation);

				    	$(this).val('');
				    	nextWord();
				    }
				   
				});
			});

		</script>

		<div class="content">
			Guess that!
		</div>

		<div class="answer">
			<input type="text" id="translation">
		</div>

		<canvas id="chart" height="400" width="1000" style="border-bottom:4px solid #4E8739;  position:fixed; bottom:0px;"></canvas>
	</body>


</html>